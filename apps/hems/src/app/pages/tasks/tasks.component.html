<!-- Morning section -->
<main>
  <div class="table-actions">
    <h1>Morning</h1>
  </div>
  <hr />

  <table mat-table [dataSource]="morningTasks">
    <ng-container matColumnDef="time">
      <th mat-header-cell *matHeaderCellDef style="width: 110px">Time</th>
      <td mat-cell *matCellDef="let task">{{ task.time }}</td>
    </ng-container>
    <ng-container matColumnDef="task">
      <th mat-header-cell *matHeaderCellDef>Task</th>
      <td mat-cell *matCellDef="let task">{{ task.task }}</td>
    </ng-container>
    <ng-container matColumnDef="done">
      <th mat-header-cell *matHeaderCellDef>Done</th>
      <td mat-cell *matCellDef="let task">
        {{ task.completedAt ? (task.completedAt | date: 'HH:mm') : '-' }}
      </td>
    </ng-container>
    <ng-container matColumnDef="initials">
      <th mat-header-cell *matHeaderCellDef>Initials</th>
      <td mat-cell *matCellDef="let task">
        {{ task.initials ? task.initials : '-' }}
      </td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef style="width: 110px">Actions</th>
      <td mat-cell *matCellDef="let task">
        <button
          mat-raised-button
          class="secondary-btn"
          *ngIf="task.completedAt === null"
          (click)="openEditTaskDialog(task)"
        >
          Complete
        </button>
        <button
          mat-raised-button
          class="basic-btn"
          *ngIf="task.completedAt !== null"
          (click)="openEditTaskDialog(task)"
        >
          Edit
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="headerRow"></tr>
    <tr mat-row *matRowDef="let row; columns: headerRow"></tr>
  </table>

  <br />

  <!-- Evening Section -->
  <div class="table-actions">
    <h1>Evening</h1>
  </div>
  <hr />

  <table mat-table [dataSource]="eveningTasks">
    <ng-container matColumnDef="time">
      <th mat-header-cell *matHeaderCellDef style="width: 110px">Time</th>
      <td mat-cell *matCellDef="let item">{{ item.time }}</td>
    </ng-container>
    <ng-container matColumnDef="task">
      <th mat-header-cell *matHeaderCellDef>Task</th>
      <td mat-cell *matCellDef="let item">{{ item.task }}</td>
    </ng-container>
    <ng-container matColumnDef="done">
      <th mat-header-cell *matHeaderCellDef>Done</th>
      <td mat-cell *matCellDef="let item">
        {{ item.completedAt ? (item.completedAt | date: 'HH:mm') : '-' }}
      </td>
    </ng-container>
    <ng-container matColumnDef="initials">
      <th mat-header-cell *matHeaderCellDef>Initials</th>
      <td mat-cell *matCellDef="let item">
        {{ item.initials ? item.initials : '-' }}
      </td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef style="width: 110px">Actions</th>
      <td mat-cell *matCellDef="let task">
        <button
          mat-raised-button
          class="secondary-btn"
          *ngIf="task.completedAt === null"
          (click)="openEditTaskDialog(task)"
        >
          Complete
        </button>
        <button
          mat-raised-button
          class="basic-btn"
          *ngIf="task.completedAt !== null"
          (click)="openEditTaskDialog(task)"
        >
          Edit
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="headerRow"></tr>
    <tr mat-row *matRowDef="let row; columns: headerRow"></tr>
  </table>
</main>
